Ext.define('Draw.controller.Test', {
    extend: 'Ext.app.Controller',
    config: {
            routes: {
                '/test/draw': 'draw',
                '/test/guess': 'guess',
                '/test/playback': 'playback'
            }
    },

    guess: function(){
        var drawing = Ext.create('Draw.model.Drawing', {
            data: ["p-1333918806582-135-136-132-133", "p-1333918806584-132-133-128-130", "p-1333918806599-128-130-124-124", "p-1333918806622-124-124-121-118", "p-1333918806639-121-118-120-114", "p-1333918806656-120-114-119-109", "p-1333918806673-119-109-119-107", "p-1333918806689-119-107-119-104", "p-1333918806716-119-104-123-100", "p-1333918806733-123-100-132-97", "p-1333918806750-132-97-147-94", "p-1333918806766-147-94-163-93", "p-1333918806783-163-93-178-93", "p-1333918806800-178-93-193-96", "p-1333918806816-193-96-207-102", "p-1333918806833-207-102-219-109", "p-1333918806855-219-109-230-118", "p-1333918806866-230-118-244-129", "p-1333918806883-244-129-256-142", "p-1333918806900-256-142-263-150", "p-1333918806917-263-150-268-157", "p-1333918806933-268-157-271-161", "p-1333918806950-271-161-272-164", "p-1333918806967-272-164-272-167", "p-1333918806983-272-167-272-169", "p-1333918807000-272-169-269-174", "p-1333918807017-269-174-261-179", "p-1333918807033-261-179-247-186", "p-1333918807050-247-186-228-193", "p-1333918807067-228-193-210-197", "p-1333918807084-210-197-189-199", "p-1333918807100-189-199-167-199", "p-1333918807117-167-199-150-194", "p-1333918807134-150-194-136-185", "p-1333918807151-136-185-126-179", "p-1333918807167-126-179-117-171", "p-1333918807184-117-171-112-164", "p-1333918807201-112-164-110-157", "p-1333918807217-110-157-110-150", "p-1333918807234-110-150-110-141", "p-1333918807251-110-141-117-131", "p-1333918807267-117-131-130-119", "p-1333918807284-130-119-149-107", "p-1333918807301-149-107-165-100", "p-1333918807318-165-100-185-97", "p-1333918807334-185-97-202-97", "p-1333918807351-202-97-212-98", "p-1333918807368-212-98-226-105", "p-1333918807385-226-105-236-111", "p-1333918807402-236-111-245-119", "p-1333918807418-245-119-253-128", "p-1333918807435-253-128-260-136", "p-1333918807451-260-136-262-142", "p-1333918807468-262-142-263-148", "p-1333918807485-263-148-262-154", "p-1333918807502-262-154-255-157", "p-1333918807518-255-157-235-162", "p-1333918807535-235-162-211-164", "p-1333918807551-211-164-181-165", "p-1333918807568-181-165-147-165", "p-1333918807585-147-165-127-164", "p-1333918807601-127-164-110-159", "p-1333918807618-110-159-101-152", "p-1333918807635-101-152-97-145", "p-1333918807652-97-145-97-135", "p-1333918807668-97-135-108-118", "p-1333918807685-108-118-130-102", "p-1333918807702-130-102-153-88", "p-1333918807719-153-88-192-74", "p-1333918807735-192-74-222-68", "p-1333918807752-222-68-244-68", "p-1333918807769-244-68-262-70", "p-1333918807785-262-70-277-81", "p-1333918807802-277-81-286-91", "p-1333918807819-286-91-291-102", "p-1333918807836-291-102-293-113", "p-1333918807853-293-113-293-121", "p-1333918807869-293-121-286-131", "p-1333918807886-286-131-273-137", "p-1333918807902-273-137-239-145", "p-1333918807919-239-145-209-147", "p-1333918807936-209-147-158-148", "p-1333918807952-158-148-134-148", "p-1333918807969-134-148-118-143", "p-1333918807986-118-143-107-135", "p-1333918808003-107-135-103-128", "p-1333918808020-103-128-102-121", "p-1333918808036-102-121-104-109", "p-1333918808053-104-109-120-95", "p-1333918808070-120-95-136-84", "p-1333918808086-136-84-163-72", "p-1333918808103-163-72-187-65", "p-1333918808120-187-65-210-64", "p-1333918808136-210-64-229-64", "p-1333918808153-229-64-246-68", "p-1333918808169-246-68-254-75", "p-1333918808186-254-75-259-84", "p-1333918808203-259-84-260-95", "p-1333918808219-260-95-259-103", "p-1333918808236-259-103-247-114", "p-1333918808254-247-114-209-131", "p-1333918808270-209-131-180-136", "p-1333918808286-180-136-147-138", "p-1333918808303-147-138-132-138", "p-1333918808320-132-138-112-131", "p-1333918808336-112-131-107-124", "p-1333918808353-107-124-102-113", "p-1333918808370-102-113-102-100", "p-1333918808387-102-100-117-77", "p-1333918808404-117-77-140-55", "p-1333918808421-140-55-168-31", "p-1333918808466-168-31-210-12", "p-1333918808470-210-12-225-12", "p-1333918808487-225-12-236-19", "p-1333918808503-236-19-243-31", "p-1333918808520-243-31-247-46", "p-1333918808537-247-46-248-66", "p-1333918808554-248-66-244-79", "p-1333918808571-244-79-232-90", "p-1333918808587-232-90-214-98", "p-1333918808604-214-98-188-103", "p-1333918808620-188-103-161-106", "p-1333918808637-161-106-133-106", "p-1333918808654-133-106-117-106", "p-1333918808671-117-106-103-102", "p-1333918808687-103-102-95-95", "p-1333918808704-95-95-92-89", "p-1333918808721-92-89-92-82", "p-1333918808738-92-82-98-76", "p-1333918808754-98-76-114-67", "p-1333918808771-114-67-133-59", "p-1333918808787-133-59-153-56", "p-1333918808804-153-56-172-56", "p-1333918808821-172-56-186-57", "p-1333918808838-186-57-197-65", "p-1333918808855-197-65-204-76", "p-1333918808871-204-76-207-90", "p-1333918808888-207-90-207-101", "p-1333918808904-207-101-196-119", "p-1333918808921-196-119-173-134", "p-1333918808938-173-134-150-144", "p-1333918808955-150-144-112-152", "p-1333918808971-112-152-76-156", "p-1333918808988-76-156-57-156", "p-1333918809004-57-156-38-156", "p-1333918809022-38-156-30-155", "p-1333918809038-30-155-24-151", "p-1333918809055-24-151-24-145", "p-1333918809071-24-145-24-138", "p-1333918809088-24-138-25-128", "p-1333918809106-25-128-29-119", "p-1333918809122-29-119-31-114", "p-1333918809139-31-114-34-108", "p-1333918809155-34-108-36-105", "p-1333918809172-36-105-36-103", "p-1333918809188-36-103-37-101", "p-1333918809222-37-101-38-99", "p-1333918809305-38-99-39-97", "p-1333918809322-39-97-41-97", "p-1333918809338-41-97-44-95", "p-1333918809355-44-95-49-92", "p-1333918809556-49-92-53-89", "p-1333918809572-53-89-53-86", "p-1333918809588-53-86-52-82", "p-1333918809606-52-82-50-77", "p-1333918809622-50-77-48-71", "p-1333918809639-48-71-46-66", "p-1333918809655-46-66-45-63", "p-1333918809672-45-63-45-61", "p-1333918809789-45-61-45-66", "p-1333918809805-45-66-45-76", "p-1333918809823-45-76-45-91", "p-1333918809838-45-91-46-110", "p-1333918809856-46-110-48-124", "p-1333918809872-48-124-51-139", "p-1333918809889-51-139-55-152", "p-1333918809906-55-152-58-162", "p-1333918809922-58-162-60-173", "p-1333918809940-60-173-62-181", "p-1333918809956-62-181-63-188", "p-1333918809973-63-188-65-195", "p-1333918809990-65-195-66-199", "p-1333918810006-66-199-68-202", "p-1333918810023-68-202-69-205"]

        });
        //guess the word
        var guess = Ext.create('Draw.model.Guess', {
            letters: ['A', 'B', 'Z', 'D', 'G', 'H', 'A', 'H'],
            word_length: 5
        });
        guess.setDrawing(drawing);
        var guessView = Ext.create('Draw.view.game.Guess', {record: guess});

        Ext.Viewport.add(guessView);
        Ext.Viewport.setActiveItem(guessView);
    },

    playback: function(){

        var guess = Ext.create('Draw.model.Guess', {
            letters: ['A', 'B', 'Z', 'D', 'G', 'H', 'A', 'H'],
            wordLength: 5,
            data: {"1":["m-1333943175791-0-1-0"],"2":["m-1333943177027-1-1-1"],"4":["m-1333943179940-2-1-2"],"6":["m-1333943182316-4-1-3"],"7":["m-1333943183648-5-1-4"],"10":["m-1333944019180-0-0-1","m-1333944039180-3-1-0","m-1333944095834-5-0-5","m-1333944100300-7-1-4","m-1333944107852-1-0-2"]}
        });

        var drawing = Ext.create('Draw.model.Drawing', {
            data: ["p-1333918806582-135-136-132-133", "p-1333918806584-132-133-128-130", "p-1333918806599-128-130-124-124", "p-1333918806622-124-124-121-118", "p-1333918806639-121-118-120-114", "p-1333918806656-120-114-119-109", "p-1333918806673-119-109-119-107", "p-1333918806689-119-107-119-104", "p-1333918806716-119-104-123-100", "p-1333918806733-123-100-132-97", "p-1333918806750-132-97-147-94", "p-1333918806766-147-94-163-93", "p-1333918806783-163-93-178-93", "p-1333918806800-178-93-193-96", "p-1333918806816-193-96-207-102", "p-1333918806833-207-102-219-109", "p-1333918806855-219-109-230-118", "p-1333918806866-230-118-244-129", "p-1333918806883-244-129-256-142", "p-1333918806900-256-142-263-150", "p-1333918806917-263-150-268-157", "p-1333918806933-268-157-271-161", "p-1333918806950-271-161-272-164", "p-1333918806967-272-164-272-167", "p-1333918806983-272-167-272-169", "p-1333918807000-272-169-269-174", "p-1333918807017-269-174-261-179", "p-1333918807033-261-179-247-186", "p-1333918807050-247-186-228-193", "p-1333918807067-228-193-210-197", "p-1333918807084-210-197-189-199", "p-1333918807100-189-199-167-199", "p-1333918807117-167-199-150-194", "p-1333918807134-150-194-136-185", "p-1333918807151-136-185-126-179", "p-1333918807167-126-179-117-171", "p-1333918807184-117-171-112-164", "p-1333918807201-112-164-110-157", "p-1333918807217-110-157-110-150", "p-1333918807234-110-150-110-141", "p-1333918807251-110-141-117-131", "p-1333918807267-117-131-130-119", "p-1333918807284-130-119-149-107", "p-1333918807301-149-107-165-100", "p-1333918807318-165-100-185-97", "p-1333918807334-185-97-202-97", "p-1333918807351-202-97-212-98", "p-1333918807368-212-98-226-105", "p-1333918807385-226-105-236-111", "p-1333918807402-236-111-245-119", "p-1333918807418-245-119-253-128", "p-1333918807435-253-128-260-136", "p-1333918807451-260-136-262-142", "p-1333918807468-262-142-263-148", "p-1333918807485-263-148-262-154", "p-1333918807502-262-154-255-157", "p-1333918807518-255-157-235-162", "p-1333918807535-235-162-211-164", "p-1333918807551-211-164-181-165", "p-1333918807568-181-165-147-165", "p-1333918807585-147-165-127-164", "p-1333918807601-127-164-110-159", "p-1333918807618-110-159-101-152", "p-1333918807635-101-152-97-145", "p-1333918807652-97-145-97-135", "p-1333918807668-97-135-108-118", "p-1333918807685-108-118-130-102", "p-1333918807702-130-102-153-88", "p-1333918807719-153-88-192-74", "p-1333918807735-192-74-222-68", "p-1333918807752-222-68-244-68", "p-1333918807769-244-68-262-70", "p-1333918807785-262-70-277-81", "p-1333918807802-277-81-286-91", "p-1333918807819-286-91-291-102", "p-1333918807836-291-102-293-113", "p-1333918807853-293-113-293-121", "p-1333918807869-293-121-286-131", "p-1333918807886-286-131-273-137", "p-1333918807902-273-137-239-145", "p-1333918807919-239-145-209-147", "p-1333918807936-209-147-158-148", "p-1333918807952-158-148-134-148", "p-1333918807969-134-148-118-143", "p-1333918807986-118-143-107-135", "p-1333918808003-107-135-103-128", "p-1333918808020-103-128-102-121", "p-1333918808036-102-121-104-109", "p-1333918808053-104-109-120-95", "p-1333918808070-120-95-136-84", "p-1333918808086-136-84-163-72", "p-1333918808103-163-72-187-65", "p-1333918808120-187-65-210-64", "p-1333918808136-210-64-229-64", "p-1333918808153-229-64-246-68", "p-1333918808169-246-68-254-75", "p-1333918808186-254-75-259-84", "p-1333918808203-259-84-260-95", "p-1333918808219-260-95-259-103", "p-1333918808236-259-103-247-114", "p-1333918808254-247-114-209-131", "p-1333918808270-209-131-180-136", "p-1333918808286-180-136-147-138", "p-1333918808303-147-138-132-138", "p-1333918808320-132-138-112-131", "p-1333918808336-112-131-107-124", "p-1333918808353-107-124-102-113", "p-1333918808370-102-113-102-100", "p-1333918808387-102-100-117-77", "p-1333918808404-117-77-140-55", "p-1333918808421-140-55-168-31", "p-1333918808466-168-31-210-12", "p-1333918808470-210-12-225-12", "p-1333918808487-225-12-236-19", "p-1333918808503-236-19-243-31", "p-1333918808520-243-31-247-46", "p-1333918808537-247-46-248-66", "p-1333918808554-248-66-244-79", "p-1333918808571-244-79-232-90", "p-1333918808587-232-90-214-98", "p-1333918808604-214-98-188-103", "p-1333918808620-188-103-161-106", "p-1333918808637-161-106-133-106", "p-1333918808654-133-106-117-106", "p-1333918808671-117-106-103-102", "p-1333918808687-103-102-95-95", "p-1333918808704-95-95-92-89", "p-1333918808721-92-89-92-82", "p-1333918808738-92-82-98-76", "p-1333918808754-98-76-114-67", "p-1333918808771-114-67-133-59", "p-1333918808787-133-59-153-56", "p-1333918808804-153-56-172-56", "p-1333918808821-172-56-186-57", "p-1333918808838-186-57-197-65", "p-1333918808855-197-65-204-76", "p-1333918808871-204-76-207-90", "p-1333918808888-207-90-207-101", "p-1333918808904-207-101-196-119", "p-1333918808921-196-119-173-134", "p-1333918808938-173-134-150-144", "p-1333918808955-150-144-112-152", "p-1333918808971-112-152-76-156", "p-1333918808988-76-156-57-156", "p-1333918809004-57-156-38-156", "p-1333918809022-38-156-30-155", "p-1333918809038-30-155-24-151", "p-1333918809055-24-151-24-145", "p-1333918809071-24-145-24-138", "p-1333918809088-24-138-25-128", "p-1333918809106-25-128-29-119", "p-1333918809122-29-119-31-114", "p-1333918809139-31-114-34-108", "p-1333918809155-34-108-36-105", "p-1333918809172-36-105-36-103", "p-1333918809188-36-103-37-101", "p-1333918809222-37-101-38-99", "p-1333918809305-38-99-39-97", "p-1333918809322-39-97-41-97", "p-1333918809338-41-97-44-95", "p-1333918809355-44-95-49-92", "p-1333918809556-49-92-53-89", "p-1333918809572-53-89-53-86", "p-1333918809588-53-86-52-82", "p-1333918809606-52-82-50-77", "p-1333918809622-50-77-48-71", "p-1333918809639-48-71-46-66", "p-1333918809655-46-66-45-63", "p-1333918809672-45-63-45-61", "p-1333918809789-45-61-45-66", "p-1333918809805-45-66-45-76", "p-1333918809823-45-76-45-91", "p-1333918809838-45-91-46-110", "p-1333918809856-46-110-48-124", "p-1333918809872-48-124-51-139", "p-1333918809889-51-139-55-152", "p-1333918809906-55-152-58-162", "p-1333918809922-58-162-60-173", "p-1333918809940-60-173-62-181", "p-1333918809956-62-181-63-188", "p-1333918809973-63-188-65-195", "p-1333918809990-65-195-66-199", "p-1333918810006-66-199-68-202", "p-1333918810023-68-202-69-205"]

        });

        guess.setDrawing(drawing);

        var playBackView = Ext.create('Draw.view.game.PlayBack', {
            record: guess
        });

        Ext.Viewport.add(playBackView);
        Ext.Viewport.setActiveItem(playBackView);
        //drawingPlayerView.play();
    },
    draw: function(list, record){
        var game = Ext.create('Draw.model.Game');
        game.drawings().add({});
        var drawing = game.drawings().first();

        var gameView = Ext.create('Draw.view.game.New', {params: {game: game, drawing: drawing}});


        Ext.Viewport.add(gameView);
        Ext.Viewport.setActiveItem(gameView);
    }
});