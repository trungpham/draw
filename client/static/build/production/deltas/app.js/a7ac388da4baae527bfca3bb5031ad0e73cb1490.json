["/*5403d75cfcc5889cbc6976a818f12fcd72688e65",42,160953,"D",160996,376,"D",161198,40,161413,50,"D",161464,37937,"E",199402,35,"D={},F={},d,r,x,e,t,H,u,p,q,a,z,y,n,A,l,s,g,B,G",199484,217,"F",199702,157,"F[r]=F;t=F.before;x=F.from;e=F.to;F.fromPropertyNames=H=[];F.toPropertyNames=u=[];for(G in e){if(e.hasOwnProperty(G)){e[G]=k=this.formatValue(e[G],G);B=this.formatName(G);m=h.hasOwnProperty(G",200050,58,"G)){x[G]=v=this.formatValue(x[G],G",200142,48,"H",200191,115,"F",200307,118,"H,u),true,F",200436,65,"G=u[y];s[G]=true;if(!c.hasOwnProperty(G)){c[G]=1;C.push(G)}else{c[G",200568,58,"F",200627,70,"H=Ext.Array.difference(C,H);u=Ext.Array.merge(H,u);x[\"transition-property\"]=H}D",200776,78,"F",200855,42,"F.easing;e[\"transition-delay\"]=F",200929,162,"E.applyStyles(D",201106,25191,"Draw.lib.Math\",{statics:{distance:function(b,a){return Math.sqrt(Math.pow(b[0]-a[0],2)+Math.pow(b[1]-a[1],2))}}",226282,7263,248485,1046,233545,14940,249531,372,272627,790,"Draw",314030,600,249899,22733,273426,39100,"raw",312526,338,"raw",312864,265,"raw",313129,45,"raw",313174,360,"raw",313534,304,"raw",313838,192,"raw",314631,184,"raw",314815,38,"raw",314853,406,"b,c){if(this.gameBoard[c[0]][c",315289,42,"c[0]===0){if(c[1]<0||c",315353,65,"c[0]===1){if(c[1]<0||c",315440,119,"b].row][this.gameLetters[b",315585,57,"b+\"-\"+c[0]+\"-\"+c[1]);this.gameBoard[c[0]][c[1]]=b;this.gameLetters[b].row=c[0];this.gameLetters[b].col=c[1];var a=this.getActiveLetters();if(a.length==this.gameBoard[1].length){this.checkAnswer(a)}},getActiveLetters:function(){var a;var b=\"\";for(a=0;a<this.gameBoard[1].length;a++){if(Ext.isDefined(this.gameBoard[1][a])){b+=this.gameLetters[this.gameBoard[1][a]].value}}return b},checkAnswer:function(a){var c=this._currentAction;var b=this.get(\"data\")[this._currentAction].length;Ext.Ajax.request({url:\"/guess/check\",params:{id:this.getId(),letters:a},success:function(e){var d=Ext.decode(e.responseText);if(d.status==\"CORRECT\"){this.record()}},scope:this})},record:function(){Ext.Ajax.request({url:\"/guess/\"+this.getId()+\"/record\",jsonData:{data:this.get(\"data\")},success:function(b){var a=Ext.decode(b.responseText);console.log(a)},scope:this})",315749,330,"raw",316356,171,"raw",316527,6076,"raw",322831,61,322664,47,"raw",322711,120,"raw",322831,375,"raw",316527,6057,329263,35,"raw",329298,122,"raw",329420,81,"raw",329501,700,"raw",330201,424,"raw",330625,285,"<tpl for=\"externalFriend\">{xid}</tpl>/picture\"/> <strong><tpl for=\"externalFriend\">{externalFriend}</tpl>name",330971,91,"raw",331062,61,331285,92,",initialize:function(){this.setData(",331128,156,")}});Ext.define(\"Draw.view.drawing.Playe",333310,34,"drawingplayer\",config:{items:[{xtype:\"canvas\"}],listeners:{painted:function(){this.canvas=this.element.down(\"canvas\",true",346904,128,"}},statics:{DRAW_INTERVAL:250},play:function(){this.drawingData=this.getRecord().get(\"data\");this.currentIndex=0;this._drawLoop(this)},skip:function(){this._skipped=true},_drawLoop:function(a){a._draw(a.drawingData[a.currentIndex]);a.currentIndex++;if(a.currentIndex<a.drawingData.length){if(a._skipped){a._drawLoop(a)}else{setTimeout(a._drawLoop,a.self.DRAW_INTERVAL,a)}}},_drawStroke:function(b,d,a,c){this.context.beginPath();this.context.moveTo(b,d)",347374,53,"context.closePath()},_draw:function(b){var a=b.split(\"-\");switch(a[0]){case\"p\":this._drawStroke(a[2],a[3],a[4],a[5]);break}this.fireEvent(\"playback.move\",this.currentIndex)}});Ext.define(\"Draw",381233,64,"raw",381297,84,"Draw.view.game.WordPicker\",{id:\"wordPickerView\"",345726,32,"title:\"What do you want to draw?",359554,36,",pack:\"center\"},items:[",330398,41,"div class=\"word-difficulty\">{difficulty}</div><div>{value}</div>'}]",331376,1923,"Draw.model.Match\"",278569,33,"{",344383,42,"urrentTurn\",type:\"integer\",defaultValue:1},{name:\"createdTime\",type:\"integer\"},{name:\"nextAction\",type:\"string\",defaultValue:\"draw\"},{name:\"drawings\",persist:true}],hasMany:[{model:\"Draw.model.Drawing\",name:\"drawings\",associationKey:\"drawings\"},{model:\"Draw.model.User\",name:\"users\"}],hasOne:[{name:\"gameStats\",model:\"Draw.model.GameStats\"},{name:\"externalFriend\",model:\"Draw.model.ExternalFriend\",associationKey:\"external_friend\"},{name:\"drawingToGuess\",model:\"Draw.model.Drawing\",associationKey:\"drawing_to_guess\"},{name:\"drawingToPlayback\",model:\"Draw.model.Drawing\",associationKey:\"drawing_to_playback\"}],proxy:{type:\"rest\",url:\"/matches\"}}});Ext.define(\"Draw.model.Word\"",278569,33,"{",344383,41,"value\",type:\"string\"},{name:\"difficulty\",type:\"string\"},{name:\"locale\"}],proxy:{type:\"rest\",url:\"/words\"}",333283,10960,"raw",344243,117,"raw",344360,238,"raw",344598,36,"raw",344634,36,"raw",344670,45,"raw",344715,47,"raw",344762,904,"raw",345666,46,"raw",345712,1911,"raw",347623,160,"raw",347783,93,"Draw.view.game.Guess",159786,37,"Draw.lib.Math\",\"Draw.view.drawing.Player\"],config:{",345774,53,"layout:\"hbox\",items:[{xtype:\"button\",id:\"skip-button\",text:\"Skip\",docked:\"left\"},{xtype:\"button\",id:\"give-up-button\",text:\"Give up\",docked:\"right\"}]},{centered:true,xtype:\"drawingplayer\"},{xtype:\"container\",docked:\"bottom\",layout:\"vbox\",items:[{xtype:\"container\",id:\"guessRow\",cls:\"game-board\",layout:{type:\"hbox\",align:\"middle\",pack:\"center\"}},{xtype:\"container\",id:\"lettersRow\",layout:{type:\"hbox\",align:\"middle\",pack:\"center\"}}]}],listeners:{",373028,32,".child(\"drawingplayer\");var d=this.getRecord();b.setRecord(d.getDrawing());b.on(\"playback.move\",d.setCurrentAction,d);var c=this;var a;for(a=0;a<this.getRecord().get(\"word_length\");a++){Ext.getCmp(\"guessRow\").add({id:\"game-board-1-\"+a,xtype:\"component\",cls:\"slot\",data:{row:1,col:a},width:26,height:26,margin:4,listeners:{painted:function(){}}})}Ext.Array.each(this.getRecord().get(\"letters\"),function(f,e){Ext.getCmp(\"lettersRow\").add({id:\"game-board-0-\"+e,data:{row:0,col:e},cls:\"letterHolder\",xtype:\"component\",width:26,height:26,margin:4});Ext.Viewport.add({renderTo:Ext.Viewport.element,id:\"letter-\"+e,style:\"position: absolute;\",width:26,height:26,hidden:true,cls:\"letter\",xtype:\"component\",html:f,data:{letterIndex:e},draggable:{constraint:null,direction:\"both\",listeners:{drag:function(h,i,g,j){},dragstart:function(){},dragend:function(o,i,m,k){var n=o.getElement();var g=false;Ext.select(\".slot\").each(function(s,w,q){var v=Draw.lib.Math.distance(s.getXY(),n.getXY());if(v<10){var p=Ext.getCmp(s.getId());var u=[p.getData().row,p.getData().col];var r=Ext.getCmp(n.getId());try{c.getRecord().move(r.getData().letterIndex,u);n.setXY(s.getXY());g=true}catch(t){console.log(t)}}});Ext.select(\".letterHolder\").each(function(r,w,p){var v=Draw.lib.Math.distance(r.getXY(),n.getXY());if(v<10){var u=Ext.getCmp(r.getId());var s=[u.getData().row,u.getData().col];var q=Ext.getCmp(n.getId());try{c.getRecord().move(q.getData().letterIndex,s);n.setXY(r.getXY());g=true}catch(t){console.log(t)}}});if(!g){var l=Ext.getCmp(n.getId());var h=c.getRecord().getPosition(l.getData().letterIndex);var j=Ext.get(\"game-board-\"+h.row+\"-\"+h.col);n.setXY(j.getXY())}}}}})})},painted:function(){Ext.select(\".letterHolder\").each(function(e,f,d){Ext.get(\"letter-\"+d).setXY(e.getXY()).show()});var b=this.child(\"drawingplayer\");b.play();var a=this.down(\"#skip-button\");a.on(\"tap\",function(){this.disable();b.skip()});var c=this.down(\"#give-up-button\");c.on(\"tap\",function(){Ext.Msg.confirm(\"Give up\",\"End your streak and start over?\",function(d){if(d===\"yes\"){this.fireEvent(\"guess.giveup\")}},this)})}}}});Ext.define(\"Draw.store.Matches\",{requires:[\"Draw.model.Match\"],",381257,40,"raw.model.Match\"}});Ext.define(\"Draw",316079,47,"requires:[\"Draw.store.Matches\",\"Draw.store.PendingInvites\"]",316125,48,"raw",316173,65,"raw",316238,51,"raw",316289,67,"raw.store.Words\",{extend:\"Ext.data.Store\",requires:\"Draw.model.Word\",config:{model:\"Draw.model.Word\"",347860,11523,"raw.view.Main\",{requires:[\"Draw.view.PendingInvites\",\"Draw",359432,19409,"raw",378841,293,"raw",379134,51,"raw.view.FriendPicker\",\"Draw.store.Words\",\"Draw.view.game.WordPicker\",\"Draw.view.game.Guess\"],",316375,36,379242,485,"raw",379727,156,"raw",379883,216,"raw",380099,57,"raw",380156,114,"raw",380270,346,"raw",380616,72,"raw",380688,315,"raw",381003,119,"raw",381122,110,381381,696,"raw\",requires:[\"Ext.MessageBox\",\"Ext.Viewport\",\"Draw.lib.Authentication\",\"Draw.lib.DeepJsonWriter\",\"Draw.lib.Math",382127,93,",\"game.Guess",382219,357,"raw.auth=Ext.create(\"Draw",382595,211]